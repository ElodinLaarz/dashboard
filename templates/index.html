<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Item Dashboard</title>
    <script src="/static/htmx.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            color: white;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .instructions {
            background: rgba(255, 255, 255, 0.95);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .instructions h2 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 1.5em;
        }

        .instructions p {
            color: #555;
            line-height: 1.6;
        }

        #items-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 20px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }

        .item {
            padding: 30px 20px;
            border-radius: 15px;
            background: white;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            text-align: center;
        }

        .item:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 8px 12px rgba(0,0,0,0.2);
        }

        .item-id {
            font-weight: bold;
            font-size: 1.2em;
            margin-bottom: 15px;
            color: #333;
        }

        .item-property {
            margin: 8px 0;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 500;
            display: inline-block;
        }

        .color-badge {
            background: #e3f2fd;
            color: #1976d2;
        }

        .shape-badge {
            background: #f3e5f5;
            color: #7b1fa2;
        }

        .category-badge {
            background: #e8f5e9;
            color: #388e3c;
        }

        /* Color-specific styling */
        .item.blue {
            border-left: 5px solid #2196F3;
        }

        .item.red {
            border-left: 5px solid #f44336;
        }

        .item.green {
            border-left: 5px solid #4CAF50;
        }

        /* Shape indicators */
        .shape-indicator {
            width: 40px;
            height: 40px;
            margin: 10px auto;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .shape-indicator.square {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 5px;
        }

        .shape-indicator.circle {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            border-radius: 50%;
        }

        .shape-indicator.triangle {
            width: 0;
            height: 0;
            border-left: 20px solid transparent;
            border-right: 20px solid transparent;
            border-bottom: 35px solid #4facfe;
            background: none;
        }

        .htmx-swapping {
            opacity: 0;
            transition: opacity 0.3s ease-out;
        }

        .htmx-settling {
            opacity: 1;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸŽ¨ Interactive Item Dashboard</h1>
        
        <div class="instructions">
            <h2>How to Use</h2>
            <p>Hover over any item to reorganize the entire grid based on that item's properties. Items matching the hovered item's color, shape, or category will move to the front of the grid, creating an interactive and dynamic organization experience!</p>
        </div>

        <div id="items-container">
            {{range .Items}}
            <div class="item {{.Color}}" 
                 hx-get="/items?filterBy=color&filterValue={{.Color}}"
                 hx-trigger="mouseenter throttle:100ms"
                 hx-target="#items-container"
                 hx-swap="innerHTML swap:200ms">
                <div class="item-id">Item #{{.ID}}</div>
                <div class="shape-indicator {{.Shape}}"></div>
                <div class="item-property color-badge">{{.Color}}</div>
                <div class="item-property shape-badge">{{.Shape}}</div>
                <div class="item-property category-badge">{{.Category}}</div>
            </div>
            {{end}}
        </div>
    </div>
</body>
</html>
